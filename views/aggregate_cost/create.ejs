<br/>

<br/>
<h2>Create a new aggregate cost</h2>
<p>There are currently
	<%= estimatePartAggregate.query.length %> Aggregate  Costs. </p>
<br/>
<% 
maxID=0; 
for (var i=0; i<estimatePartAggregate.query.length; i++) {
    if(estimatePartAggregate.query[i]._id > maxID) {
        maxID=estimatePartAggregate.query[i]._id;
        }
}
maxDisplayorder=0; 
for (var i=0; i<estimatePartAggregate.query.length; i++) {
    if(estimatePartAggregate.query[i].displayorder > maxDisplayorder) {
        maxDisplayorder=estimatePartAggregate.query[i].displayorder;
        }
}
%>
	<p>The largest ID is
		<%= maxID %>. </p>
	<p>The largest display order is
		<%= maxDisplayorder %>. </p><br/>
	<div class="content">
		<div>
			<form name="estimatePartAggregate" method="POST" action="/aggregate_cost/save" + _id.value>

				<div class="form-group" id=frm>
					<label for="_id">ID</label>
					<input type="number" class="form-control" id="_id" name="_id" value="<%= maxID+1 %>" required readonly>
				</div>

				<div class="form-group">
					<label for="name">isUsed?</label>
					<input type="text" class="form-control" id="name" name="name" value="Name" required>
				</div>

				<div class="form-group">
					<label for="unit">Aggregae Type Selection</label>
					<input type="text" class="form-control" id="unit" name="unit" value="gal" required>
				</div>

				<div class="form-group">
					<label for="price">Aggreate Material Selection</label>
					<input type="text" class="form-control" id="price" name="price" value="30" required>
				</div>

				<div class="form-group">
					<label for="displayorder">Coverage Sq. Ft.</label>
					<input type="number" class="form-control" id="displayorder" name="displayorder" value="<%= maxDisplayorder+10 %>" required>					required>
				</div>
				<div class="form-group">
					<label for="displayorder">Sub Total</label>
					<input type="number" class="form-control" id="displayorder" name="displayorder" value="<%= maxDisplayorder+10 %>" required>					required>


				<div class="form-group">
					<label for="aggregateTypeSelection">Type</label>
					<input type="text" class="form-control" id="aggregateTypeSelection" name="aggregateTypeSelection" value="" required>
				</div>

				<div class="form-group">
					<label for="aggregateMaterialSelection">Selection</label>
					<input type="text" class="form-control" id="aggregateMaterialSelection" name="aggregateMaterialSelection" value="" required>
				</div>

				<div class="form-group">
					<label for="coverage">Coverage</label>
					<input type="number" class="form-control" id="coverage" name="coverage" value="" required>	
				</div>
				<div class="form-group">
					<label for="subtotal">Subtotal</label>
					<input type="number" class="form-control" id="cosubtotalverage" name="subtotal" value="" required>	
				</div>

				<div class="form-group">
					<input type="submit" value="Post new entry" class="btn btn-primary" />
				</div>
			</form>
			<br/>
			<form method="get" action="/estimatePartAggregate">
				<input type="submit" value="Return to list" class="btn btn-caution" />
			</form>
		</div>
	</div>

<!--// This model is managed by Team R09
// Sandip Subedi
Dhanalakota Neelesh Varma
// Matthew Woolery-->
