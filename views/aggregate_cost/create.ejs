<br/>

<br/>
<h2>Create a new aggregate cost</h2>
<p>There are currently
	<%= estimatePartAggregates.query.length %> Aggregate  Costs. </p>
<br/>
<% 
maxID=0; 
for (var i=0; i<estimatePartAggregates.query.length; i++) {
    if(estimatePartAggregates.query[i]._id > maxID) {
        maxID=estimatePartAggregates.query[i]._id;
        }
}
%>
	<p>The largest ID is
		<%= maxID %>. </p>
	
	<div class="content">
		<div>
			<form name="estimatePartAggregate" method="POST" action="/estimatePartAggregate/save" + _id.value>

				<div class="form-group" id=frm>
					<label for="_id">ID</label>
					<input type="number" class="form-control" id="_id" name="_id" value="<%= maxID+1 %>" required readonly>
				</div>

				<div class="form-group">
					<label for="isUsed">Used Aggregate ?</label>
					<input type="checkbox" class="form-control" id="isUsed" name="isUsed"  >
				</div>
<!-- 
				<div class="form-group">
					<label for="aggregateTypeSelection">Aggregate Type Selection</label> * Make combobox 
					<input type="text" class="form-control" id="aggregateTypeSelection" name="aggregateTypeSelection"  required>
				</div>
-->

			<div class="form-group">
					<label for="aggregateTypeSelection">Type Selection (<%=     estimatePartAggregates.query.length    %>):</label>
					<select name="aggregateTypeSelection" class="form-control selcls">
	 					<%  for (var i = 0; i < estimatePartAggregates.query.length ; i++){  %>
	 						<option value="<%= estimatePartAggregates.query[i].aggregateTypeSelection %>"><%= estimatePartAggregates.query[i].aggregateTypeSelection %></option>
						<%    }  %>
					</select>
				</div>

<!-- 
				<div class="form-group">
					<label for="aggregateMaterialSelection">Aggregate Material Selection</label>  * Make combobox 
					<input type="text" class="form-control" id="aggregateMaterialSelection" name="aggregateMaterialSelection"  required>
				</div>

-->
				<div class="dropdown">
					<label for="aggregateMaterialSelection">Material Selection: (<%= estimatePartAggregates.query.length %>):</label>
					<select name="aggregateMaterialSelection" class="form-control selcls">
	 					<%  for (var i = 0; i < estimatePartAggregates.query.length ; i++){  %>
	 						<option value="<%= estimatePartAggregates.query[i].aggregateMaterialSelection %>"><%= estimatePartAggregates.query[i].aggregateMaterialSelection %></option>
						<%    }  %>
					</select>
				</div>

				<!-- max value not possible on our part : we were not give a max value 
					Just using the min value because it can never be less than 0
				-->
				<div class="form-group">
						<label for="coverageSqFt">Unit Price:</label>
						<input type="number" class="form-control" id="unitPrice" name="unitPrice" min="0" required>
					</div>
				<div class="form-group">
						<label for="coverageSqFt">Unit:</label>
						<input type="text" class="form-control" id="unit" name="unit" required>
				</div>
				<div class="form-group">
					<label for="coverageSqFt">Coverage Sq. Ft.</label>
					<input type="number" class="form-control" id="coverageSqFt" name="coverageSqFt" min="0" required>
				</div>
				<div class="form-group">
					<label for="coverageSqFt">Per Sq. Ft.</label>
					<input type="float" class="form-control" id="perSqft" name="perSqft" min="0" required>
				</div>
				<div class="form-group">
					<input type="submit" value="Post new entry" class="btn btn-primary" />
				</div>
			</form>
			<br/>
			<form method="get" action="/estimatePartAggregate">
				<input type="submit" value="Return to list" class="btn btn-caution" />
			</form>
		</div>
	</div>

<!--// This model is managed by Team R09
// Sandip Subedi
//Dhanalakota Neelesh Varma
// Matthew Woolery-->
